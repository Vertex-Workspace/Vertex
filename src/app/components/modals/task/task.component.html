<div class="modal-overlay">
    <div class="base">
        <div class="location">
            <div class="routes regular-text">
                <p>Nome da equipe</p>
                <p>{{task.name}}</p>
            </div>

            <div class="rightLocation">
                <button *ngIf="!initiated" (click)="startTimer()" class="taskInit">
                    <fa-icon [icon]="faClock"></fa-icon>
                    <p>Iniciar Tarefa</p>
                </button>

                <button *ngIf="initiated" (click)="stopTimer()" class="taskInit">
                    <fa-icon [icon]="faPause"></fa-icon>
                    <p>Parar Tarefa</p> 
                </button>

                <button (click)="closeModal()" class="large-text">X</button>
            </div>
        </div>
        <div class="informations">
            <div class="side">
                <div class="title">
                    <h4><input (blur)="updateTaskNameAndDescription()" [(ngModel)]="task.name" type="text" name="name"
                            id="name" value="{{task.name}}"></h4>
                </div>
                <div class="properties">
                    <app-properties [task]="task" style="width: 100%; height: 100%;" (changes)="changeTask($event)" />
                </div>
                <div class="down">
                    <div class="buttons">
                        <button>Ver Responsáveis</button>
                        <button>Iniciar chat</button>
                    </div>
                </div>
            </div>
            <div class="side right">
                <nav>
                    <ul>
                        <a (click)="navigate('description')"
                            [style.background]="'description' === selectedComponent ? '#D6D6D6' : 'inherit'">Descrição</a>
                        <span>|</span>
                        <a (click)="navigate('comments')"
                            [style.background]="'comments' === selectedComponent ? '#D6D6D6' : 'inherit'">Comentários</a>
                        <span>|</span>
                        <a (click)="navigate('log')"
                            [style.background]="'log' === selectedComponent ? '#D6D6D6' : 'inherit'">Histórico</a>
                    </ul>
                </nav>
                <div class="components">
                    <div *ngIf="selectedComponent === 'description'" class="flex flex-col">
                        <textarea [disabled]="!descriptionEditable"
                            [style.background]="descriptionEditable ? '#f5f5f5' :  '#fff'"
                            [(ngModel)]="task.description">{{task.description}}</textarea>
                        <div class="button">
                            <button *ngIf="!descriptionEditable" (click)="changeEditDescription()">Editar
                                descrição</button>
                            <button *ngIf="descriptionEditable" (click)="changeEditDescription()">Salvar
                                descrição</button>
                        </div>
                    </div>

                    <app-comments [task]="task" *ngIf="selectedComponent === 'comments'" />

                    <app-log [task]="task" *ngIf="selectedComponent === 'log'" />
                </div>
                <div class="submit">
                    <button *ngIf="!initiated" id="finishTask">Finalizar Tarefa</button>
                </div>
            </div>
        </div>
    </div>
</div>