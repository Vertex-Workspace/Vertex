<app-modal-warn [height]="'650px'" [width]="'900px'" (close)="closeReview()">
    <section>
        <div class="s1">
            <p class="large-text self-start">Tarefas para serem Revisadas</p>
            <div class="s2">
                <ng-container *ngFor="let taskToReview of tasksToReview">
                    <div 
                    class="card-task-review" 
                    (click)="selectedReviewTask(taskToReview)"
                    [ngClass]="isTaskReviewed(taskToReview) ? 'task-reviewed-focus' : ''"
                    
                    >
                        <p class="medium-text">{{ taskBeingReviewed.name }}</p>
                        <p class="small-text">{{ taskBeingReviewed.description }}</p>
                    </div>
                </ng-container>
            </div>
        </div>
        <div class="ns1">
            <div class="ns2">
                <h6 class="self-start">Responsável pelo Envio - {{taskBeingReviewed.name}}</h6>
                <p class="medium-text self-start pt-4 pl-6">{{taskBeingReviewed.sender.username}} -
                    {{taskBeingReviewed.sender.email}}</p>
                <p class="medium-text self-start pt-3">Descrição Final</p>
                <p class="small-text self-start pl-6 h-[50px]">{{taskBeingReviewed.sender.finalDescription}}</p>
            </div>

            <div class="fs1">
                <table class="w-full">
                    <tr>
                        <th>Responsável</th>
                        <th>Tempo</th>
                    </tr>
                    <tr *ngFor="let responsable of taskBeingReviewed.reviewHours">
                        <td>{{responsable.username}}</td>
                        <td>{{responsable.time}}</td>
                    </tr>
                </table>
            </div>

            <div class="ts1">
                <p class="medium-text self-start">Devolutiva</p>
                <div class="ts2">
                    <textarea
                        placeholder="Insira uma descrição devolutiva..." [(ngModel)]="finalReviewResult.finalDescription"></textarea>
                        <div class="review-grade">
                            <p-rating [(ngModel)]="value" [cancel]="false"></p-rating>
                            <p class="small-text">Nota será concedida para todos os responsáveis da tarefa.</p>
                            <div class="flex w-full justify-evenly pt-5">
                                <button id="red-btn" (click)="finalReview(false)">Reprovar</button>
                                <button id="primary-btn" (click)="finalReview(true)">Aprovar</button>
                            </div>
                        </div>
                </div>
            </div>
        </div>
    </section>
</app-modal-warn>